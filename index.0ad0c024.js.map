{"mappings":"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","sources":["src/js/apiKey.js","src/js/responseJsonFetch.js","src/js/moviesListRender.js","src/js/pagination.js","src/js/modalMovie.js","src/js/localStorage.js","src/js/loader.js"],"sourcesContent":["export const API_KEY = '1d9e7558ae558dc94a5fda2c9843c8eb';\n","export async function fetchJsonResponse(url, params) {\n  try {\n    const fetchResponse = await fetch(url + '?' + new URLSearchParams(params));\n    const fetchData = await fetchResponse.json();\n    return fetchData;\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import { fetchJsonResponse } from './responseJsonFetch';\nimport { API_KEY } from './apiKey';\n\nconst moviesList = document.querySelector('.movies__list');\n\nasync function getGenresList() {\n  try {\n    const genresResponse = await fetchJsonResponse(\n      'https://api.themoviedb.org/3/genre/movie/list',\n      {\n        api_key: API_KEY,\n        language: 'en-US',\n      }\n    );\n    const genresData = genresResponse.genres;\n    return genresData;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction getMoviesGenres(movie, genresList) {\n  const movieGenres = [];\n  movie.genre_ids.forEach(genre_id => {\n    for (const genre of genresList) {\n      if (genre_id === genre.id) {\n        movieGenres.push(genre.name);\n      }\n    }\n  });\n  return movieGenres;\n}\n\nexport function displayMovieCard(movie, movieGenres) {\n  let moviePoster;\n  if (movie.poster_path === null) {\n    moviePoster = 'https://europix.cc/no-poster.png';\n  } else {\n    moviePoster = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n  }\n  let movieGenresList;\n  if (movieGenres.length === 0) {\n    movieGenresList = ['Unknown'];\n  } else {\n    movieGenresList = movieGenres;\n  }\n  let movieCardHtml = `<li class=\"movie\" data-id=\"${movie.id}\">\n        <img class=\"movie__img\"\n          src=${moviePoster}\n          alt=\"${movie.title} poster.\" loading=\"lazy\" />\n        <h2 class=\"movie__title\">${movie.title}</h2>\n        <div class=\"movie__info\">\n          <p class=\"movie__detail\">\n            ${movieGenresList.slice(0, 4).join(', ')}\n          </p>\n          <p class=\"movie__detail\">|</p>\n          <p class=\"movie__detail\">${movie.release_date.slice(0, 4)}</>\n        </div>\n      </li>`;\n  moviesList.insertAdjacentHTML('beforeend', movieCardHtml);\n}\n\nexport async function moviesListRender(movies) {\n  try {\n    moviesList.innerHTML = '';\n    const genresList = await getGenresList();\n    movies.forEach(movie => {\n      const movieGenres = getMoviesGenres(movie, genresList);\n      displayMovieCard(movie, movieGenres);\n    });\n  } catch (error) {\n    console.error(error);\n  }\n}\n","const pagination = document.querySelector('.pagination');\nexport function paginationRender(actualPage, totalPages) {\n  /*Pagination DOM build*/\n  const actual = document.createElement('button');\n  actual.setAttribute('type', 'button');\n  actual.textContent = actualPage;\n  actual.classList.add('pagination__button');\n  actual.classList.add('pagination__button--actual');\n  pagination.append(actual);\n  const actualPlus1 = document.createElement('button');\n  actualPlus1.setAttribute('type', 'button');\n  actualPlus1.classList.add('pagination__button');\n  actualPlus1.textContent = actualPage + 1;\n  const actualPlus2 = document.createElement('button');\n  actualPlus2.setAttribute('type', 'button');\n  actualPlus2.classList.add('pagination__button');\n  actualPlus2.textContent = actualPage + 2;\n  const actualMinus1 = document.createElement('button');\n  actualMinus1.setAttribute('type', 'button');\n  actualMinus1.classList.add('pagination__button');\n  actualMinus1.textContent = actualPage - 1;\n  const actualMinus2 = document.createElement('button');\n  actualMinus2.setAttribute('type', 'button');\n  actualMinus2.classList.add('pagination__button');\n  actualMinus2.textContent = actualPage - 2;\n  const nextPage = document.createElement('button');\n  nextPage.setAttribute('type', 'button');\n  nextPage.classList.add('pagination__button');\n  nextPage.classList.add('pagination__button--next');\n  nextPage.dataset.page = actualPage + 1;\n  const previousPage = document.createElement('button');\n  previousPage.setAttribute('type', 'button');\n  previousPage.classList.add('pagination__button');\n  previousPage.classList.add('pagination__button--previous');\n  previousPage.dataset.page = actualPage - 1;\n  const firstPage = document.createElement('button');\n  firstPage.setAttribute('type', 'button');\n  firstPage.textContent = 1;\n  firstPage.classList.add('pagination__button');\n  firstPage.classList.add('pagination__button--hideAbility');\n  const lastPage = document.createElement('button');\n  lastPage.setAttribute('type', 'button');\n  lastPage.textContent = totalPages;\n  lastPage.classList.add('pagination__button');\n  lastPage.classList.add('pagination__button--hideAbility');\n  const nextBetween = document.createElement('button');\n  nextBetween.setAttribute('type', 'button');\n  nextBetween.textContent = '...';\n  nextBetween.classList.add('pagination__button');\n  nextBetween.classList.add('pagination__button--hideAbility');\n  nextBetween.classList.add('pagination__button--deactive');\n  const previousBetween = document.createElement('button');\n  previousBetween.setAttribute('type', 'button');\n  previousBetween.textContent = '...';\n  previousBetween.classList.add('pagination__button');\n  previousBetween.classList.add('pagination__button--hideAbility');\n  previousBetween.classList.add('pagination__button--deactive');\n  /*Buttons appending*/\n  if (actualPage === 1) {\n    if (totalPages > actualPage) {\n      pagination.append(actualPlus1);\n    }\n    if (totalPages > actualPlus1.textContent) {\n      pagination.append(actualPlus2);\n    }\n    if (totalPages > actualPlus2.textContent) {\n      pagination.append(nextBetween);\n      pagination.append(lastPage);\n    }\n    if (totalPages > actualPage) {\n      pagination.append(nextPage);\n    }\n  }\n  if (actualPage === 2) {\n    if (totalPages > actualPage) {\n      pagination.append(actualPlus1);\n    }\n    if (totalPages > actualPlus1.textContent) {\n      pagination.append(actualPlus2);\n    }\n    if (totalPages > actualPlus2.textContent) {\n      pagination.append(nextBetween);\n      pagination.append(lastPage);\n    }\n    if (totalPages > actualPage) {\n      pagination.append(nextPage);\n    }\n    pagination.prepend(actualMinus1);\n    pagination.prepend(previousPage);\n  }\n  if (actualPage > 2) {\n    if (totalPages > actualPage) {\n      pagination.append(actualPlus1);\n    }\n    if (totalPages > actualPlus1.textContent) {\n      pagination.append(actualPlus2);\n    }\n    if (totalPages > actualPlus2.textContent) {\n      pagination.append(nextBetween);\n      pagination.append(lastPage);\n    }\n    if (totalPages > actualPage) {\n      pagination.append(nextPage);\n    }\n    pagination.prepend(actualMinus1);\n    pagination.prepend(actualMinus2);\n    if (actualPage > 3) {\n      pagination.prepend(previousBetween);\n      pagination.prepend(firstPage);\n    }\n    pagination.prepend(previousPage);\n  }\n}\nexport function paginationDestroy() {\n  pagination.replaceChildren();\n}\n","import { fetchJsonResponse } from './responseJsonFetch';\nimport { API_KEY } from './apiKey';\nimport { moviesStorage } from './localStorage';\nimport { trackMousePosition, stopTrackingMousePosition } from './loader';\n\nconst body = document.querySelector('body');\nconst overlay = document.querySelector('.overlay');\nconst modalWindow = document.querySelector('.modal__window');\nconst closeButton = document.querySelector('.modal__button-close');\nconst modalDescription = document.querySelector('.modal__movie');\nlet btn = {\n  watched: null,\n  queue: null,\n};\n\nexport const modalMovie = async e => {\n  if (e.target.classList.contains('movie')) {\n    trackMousePosition();\n  }\n  if (e.target === e.currentTarget) {\n    return;\n  }\n  const liElement = findLi(e.target);\n  if (!liElement) {\n    return;\n  }\n  const id = liElement.dataset.id;\n  const movie = await fetchJsonResponse(\n    `https://api.themoviedb.org/3/movie/${id}`,\n    {\n      api_key: API_KEY,\n      language: 'en-US',\n    }\n  );\n  if (movie.success === false) {\n    return;\n  }\n  const watchedList = moviesStorage.getItem('watched');\n  const queueList = moviesStorage.getItem('queue');\n  let watchedClass = '';\n  let queueClass = '';\n  let watchedText = 'Add to watched';\n  let queueText = 'Add to queue';\n  if (watchedList) {\n    if (watchedList.includes(id)) {\n      watchedClass = 'modal-movie__watched';\n      watchedText = 'Remove from watched';\n    }\n  }\n  if (queueList) {\n    if (queueList.includes(id)) {\n      queueClass = 'modal-movie__queue';\n      queueText = 'Remove from queue';\n    }\n  }\n\n  let moviePoster;\n  if (movie.poster_path === null) {\n    moviePoster = 'https://europix.cc/no-poster.png';\n  } else {\n    moviePoster = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n  }\n\n  let movieGenresList;\n  if (movie.genres.length === 0) {\n    movieGenresList = ['Unknown'];\n  } else {\n    movieGenresList = movie.genres.map(genre => genre.name).join(', ');\n  }\n\n  const markup = `\n                <div class=\"modal-movie__container\">\n                  <img src=${moviePoster}\n                    alt=\"${movie.title} poster.\" class=\"modal-movie__picture\" />\n                  <div class=\"modal-movie__information\">\n                    <h3 class=\"modal-movie__title\">${movie.title}</h3>\n                    <table>\n                      <tbody class=\"modal-movie__table modal-table\">\n                        <tr class=\"modal-table__row\">\n                          <td class=\"modal-table__data modal-table__title\">Vote/Votes</td>\n                          <td class=\"modal-table__data modal-table__information\">\n                            <span class=\"modal-table__number modal-table--orange\">\n                              ${Math.round(movie.vote_average * 10) / 10}\n                            </span> / \n                            <span class=\"modal-table__number modal-table--grey\">\n                              ${movie.vote_count}\n                            </span>\n                          </td>\n                        </tr>\n                        <tr class=\"modal-table__row\">\n                          <td class=\"modal-table__data modal-table__title\">Popularity</td>\n                          <td class=\"modal-table__data modal-table__information\">\n                            ${Math.round(movie.popularity * 10) / 10}\n                          </td>\n                        </tr>\n                        <tr class=\"modal-table__row\">\n                          <td class=\"modal-table__data modal-table__title\">Original Title</td>\n                          <td class=\"modal-table__data modal-table__information modal-table--uppercase\">\n                            ${movie.original_title}\n                          </td>\n                        </tr>\n                        <tr class=\"modal-table__row\">\n                          <td class=\"modal-table__data modal-table__title\">Genre</td>\n                          <td class=\"modal-table__data modal-table__information\">\n                            ${movieGenresList}\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                    <div class=\"modal-movie__overview\">\n                      <h4 class=\"modal-movie__about\">About</h4>\n                      <p class=\"modal-movie__description\">\n                        ${movie.overview}\n                      </p>\n                    </div>\n                    <div class=\"modal-movie__buttons movie-button\">\n                      <button\n                        type=\"button\"\n                        class=\"modal-movie__btn ${watchedClass}\"\n                        data-idfilm=\"\"\n                        data-btn=\"watched\">\n                          ${watchedText}\n                      </button>\n                      <button\n                        type=\"button\"\n                        class=\"modal-movie__btn ${queueClass}\"\n                        data-idfilm=\"\"\n                        data-btn=\"queue\">\n                          ${queueText}\n                      </button>\n                    </div>\n                  </div>\n                </div>`;\n  modalDescription.innerHTML = markup;\n  viewModal(true);\n  window.addEventListener('keyup', escapeClose);\n  overlay.addEventListener('click', clickClose);\n  btn.watched = document.querySelector('[data-btn=\"watched\"]');\n  btn.queue = document.querySelector('[data-btn=\"queue\"]');\n  btn.watched.addEventListener('click', e => addToLocalStorage(id, 'watched'));\n  btn.queue.addEventListener('click', e => addToLocalStorage(id, 'queue'));\n  stopTrackingMousePosition();\n};\n\nconst findLi = target => {\n  if (target.tagName === 'UL') {\n    return false;\n  }\n  if (target.tagName !== 'LI') {\n    return findLi(target.parentElement);\n  }\n  return target;\n};\n\nexport const closeModal = () => {\n  closeButton.addEventListener('click', e => viewModal(false));\n};\n\nconst escapeClose = e => {\n  if (e.key === 'Escape' || e.keyCode === 27) {\n    viewModal(false);\n  }\n};\n\nconst clickClose = e => {\n  if (e.currentTarget === e.target) {\n    viewModal(false);\n  }\n};\n\nexport const viewModal = isShow => {\n  if (isShow) {\n    body.classList.add('noScroll');\n    overlay.classList.remove('overlay--is-hidden');\n    return;\n  }\n  body.classList.remove('noScroll');\n  overlay.classList.add('overlay--is-hidden');\n  btn.watched.removeEventListener('click', addToLocalStorage);\n  btn.queue.removeEventListener('click', addToLocalStorage);\n  window.removeEventListener('keyup', escapeClose);\n  overlay.removeEventListener('click', clickClose);\n};\n\nconst addToLocalStorage = (id, type) => {\n  const idList = moviesStorage.getItem(type);\n  let newList = [];\n  if (idList) {\n    newList = [...idList];\n  }\n\n  if (newList.includes(id)) {\n    moviesStorage.removeItem(id, type);\n    btn[type].classList.remove(`modal-movie__${type}`);\n    btn[type].innerText = `Add to ${type}`;\n    return;\n  }\n  newList.push(id);\n  moviesStorage.setItem(newList, type);\n  let anotherType;\n  if (type === 'watched') {\n    anotherType = 'queue';\n  }\n  if (type === 'queue') {\n    anotherType = 'watched';\n  }\n  moviesStorage.removeItem(id, anotherType);\n  btn[type].classList.add(`modal-movie__${type}`);\n  btn[type].innerText = `Remove from ${type}`;\n  btn[anotherType].classList.remove(`modal-movie__${anotherType}`);\n  btn[anotherType].innerText = `Add to ${anotherType}`;\n};\n","const LOCAL_STORAGE_WATCHED = 'movies-watched';\nconst LOCAL_STORAGE_QUEUE = 'movies-queue';\n\nconst setItem = (value, type) => {\n  const key = keyType(type);\n  if (!key) {\n    return;\n  }\n  window.localStorage.setItem(key, JSON.stringify(value));\n};\n\nconst getItem = type => {\n  const key = keyType(type);\n  if (!key) {\n    return;\n  }\n  const value = window.localStorage.getItem(key);\n  return JSON.parse(value);\n};\n\nconst removeItem = (value, type) => {\n  const key = keyType(type);\n  if (!key) {\n    return;\n  }\n  const list = getItem(type);\n  if (!list) {\n    return;\n  }\n  let idIndex = -1;\n  const newList = list.filter((element, index) => element !== value);\n  setItem(newList, type);\n};\n\nconst keyType = type => {\n  if (type === 'watched') {\n    return LOCAL_STORAGE_WATCHED;\n  }\n  if (type === 'queue') {\n    return LOCAL_STORAGE_QUEUE;\n  }\n  console.error('wronga type key in localStorage');\n  return false;\n};\n\nexport const moviesStorage = {\n  setItem,\n  getItem,\n  removeItem,\n};\n","const loader = document.querySelector('#loader');\nconst body = document.querySelector('body');\nlet mouseMoveListener;\n\nexport const trackMousePosition = () => {\n  mouseMoveListener = event => {\n    body.style.cursor = 'none';\n    loader.style.left = `${event.clientX}px`;\n    loader.style.top = `${event.clientY}px`;\n    loader.style.display = 'block';\n  };\n  document.addEventListener('mousemove', mouseMoveListener);\n};\nexport const stopTrackingMousePosition = () => {\n  body.style.cursor = 'auto';\n  document.removeEventListener('mousemove', mouseMoveListener);\n  loader.style.display = 'none';\n};\n{\n  trackMousePosition, stopTrackingMousePosition;\n}\n"],"names":["$f175a8589f0c4277$export$a9861bd62f48e142","async","$0c837444c0fb7c71$export$f73304116199a240","url","params","fetchResponse","fetch","URLSearchParams","json","error","console","$14BL6","parcelRequire","$fee038b370874d2c$var$moviesList","document","querySelector","$fee038b370874d2c$export$9aac67ed1318975","movie","movieGenres","moviePoster","movieGenresList","poster_path","length","movieCardHtml","id","title","slice","join","release_date","insertAdjacentHTML","$fee038b370874d2c$export$464de59ecf6985a2","movies","innerHTML","genresList","fetchJsonResponse","api_key","$kJhAR","API_KEY","language","genres","$fee038b370874d2c$var$getGenresList","forEach","genre_ids","genre_id","genre","push","name","$fee038b370874d2c$var$getMoviesGenres","$1bab9c519cfa82bc$var$pagination","$1bab9c519cfa82bc$export$5fcd9471792c11c9","actualPage","totalPages","actual","createElement","setAttribute","textContent","classList","add","append","actualPlus1","actualPlus2","actualMinus1","actualMinus2","nextPage","dataset","page","previousPage","firstPage","lastPage","nextBetween","previousBetween","prepend","$1bab9c519cfa82bc$export$2803788b317d841b","replaceChildren","$8493215c505d4f4a$var$body","$8493215c505d4f4a$var$overlay","$8493215c505d4f4a$var$closeButton","$8493215c505d4f4a$var$modalDescription","$8493215c505d4f4a$var$btn","watched","queue","$8493215c505d4f4a$export$f1348557528e4581","e","target","contains","$gjiCh","trackMousePosition","currentTarget","liElement","$8493215c505d4f4a$var$findLi","success","watchedList","$31u3U","moviesStorage","getItem","queueList","watchedClass","queueClass","watchedText","queueText","includes","map","markup","Math","round","vote_average","vote_count","popularity","original_title","overview","$8493215c505d4f4a$export$62e70af6b7942ce5","window","addEventListener","$8493215c505d4f4a$var$escapeClose","$8493215c505d4f4a$var$clickClose","$8493215c505d4f4a$var$addToLocalStorage","stopTrackingMousePosition","tagName","parentElement","$8493215c505d4f4a$export$3f6fecd573f3fa48","key","keyCode","isShow","remove","removeEventListener","type","idList","anotherType","newList","removeItem","innerText","setItem","$2338c8cd734f85a6$var$setItem","value","$2338c8cd734f85a6$var$keyType","localStorage","JSON","stringify","$2338c8cd734f85a6$var$getItem","parse","$2338c8cd734f85a6$export$20a6a9b5a25cb809","list","filter","element","index","$bdfcdc80b4c38739$var$loader","$bdfcdc80b4c38739$var$body","$bdfcdc80b4c38739$var$mouseMoveListener","$bdfcdc80b4c38739$export$ed409c1d3741f573","event","style","cursor","left","clientX","top","clientY","display","$bdfcdc80b4c38739$export$ceb36acbf453240e"],"version":3,"file":"index.0ad0c024.js.map"}