var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},r=e.parcelRequire4383;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in a){var r=a[e];delete a[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},e.parcelRequire4383=r);var o=r("kJhAR"),n=r("14BL6"),s=r("lSHi4"),i=r("2nhTy"),d=r("bnGUG"),l=r("gjiCh");const u=document.querySelector(".search__button"),p=document.querySelector(".search__input"),c=document.querySelector(".pagination"),g=document.querySelector(".movies"),_=document.querySelector(".movies__list");let h=1;window.onload=()=>{(0,l.startLoader)(),setTimeout((()=>{(0,n.fetchJsonResponse)("https://api.themoviedb.org/3/trending/movie/day",{api_key:o.API_KEY,page:h}).then((e=>{(0,l.stopLoader)(),(0,i.paginationDestroy)(),h=e.page,(0,s.moviesListRender)(e.results),(0,i.paginationRender)(e.page,e.total_pages)}))}),1e3)},u.addEventListener("click",(e=>{e.preventDefault(),(0,l.startLoader)(),h=1,g.dataset.searchquery=p.value,(0,n.fetchJsonResponse)("https://api.themoviedb.org/3/search/movie",{api_key:o.API_KEY,language:"en-US",query:p.value,include_adult:!1,page:h}).then((e=>{0===e.total_results&&document.querySelector(".header__error").classList.remove("header__error--hidden"),(0,l.stopLoader)(),(0,i.paginationDestroy)(),h=e.page,(0,s.moviesListRender)(e.results),e.total_results>0&&(document.querySelector(".header__error").classList.add("header__error--hidden"),(0,i.paginationRender)(e.page,e.total_pages))})),""!=p.value&&(p.value="")})),c.addEventListener("click",(e=>{e.preventDefault,e.target.classList.contains("pagination__button")&&((e.target.classList.contains("pagination__button--next")||e.target.classList.contains("pagination__button--previous"))&&(h=e.target.dataset.page),""!==e.target.textContent&&(h=e.target.textContent)),e.target.classList.contains("pagination__button")&&(window.scrollTo(0,0),(0,l.startLoader)(),void 0===g.dataset.searchquery&&(0,n.fetchJsonResponse)("https://api.themoviedb.org/3/trending/movie/day",{api_key:o.API_KEY,page:h}).then((e=>{(0,l.stopLoader)(),(0,i.paginationDestroy)(),h=e.page,(0,s.moviesListRender)(e.results),(0,i.paginationRender)(e.page,e.total_pages)})),void 0!==g.dataset.searchquery&&((0,n.fetchJsonResponse)("https://api.themoviedb.org/3/search/movie",{api_key:o.API_KEY,language:"en-US",query:g.dataset.searchquery,include_adult:!1,page:h}).then((e=>{0===e.total_results&&document.querySelector(".header__error").classList.remove("header__error--hidden"),(0,l.stopLoader)(),(0,i.paginationDestroy)(),h=e.page,(0,s.moviesListRender)(e.results),e.total_results>0&&(document.querySelector(".header__error").classList.add("header__error--hidden"),(0,i.paginationRender)(e.page,e.total_pages))})),""!=p.value&&(p.value="")))})),_.addEventListener("click",d.modalMovie),(0,d.closeModal)();
//# sourceMappingURL=index.2b3ffd6c.js.map
