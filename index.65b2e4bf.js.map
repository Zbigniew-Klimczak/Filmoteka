{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,S,iEAOMC,EAAYC,SAASC,cAAc,mBACnCC,EAAcF,SAASC,cAAc,kBACrCE,EAAaH,SAASC,cAAc,eACpCG,EAASJ,SAASC,cAAc,WAChCI,EAAgBL,SAASC,cAAc,iBAEzCK,EAAa,EAEjBC,OAAOC,OAAS,YACd,EAAAC,EAAAC,gBACA,EAAAC,EAAAC,mBAAkB,kDAAmD,CACnEC,QAAShB,EAAAiB,QACTC,KAAMT,IACLU,MAAK,SAAAC,IACN,EAAAC,EAAAC,qBACAb,EAAaW,EAASF,MACtB,EAAAK,EAAAC,kBAAiBJ,EAASK,UAC1B,EAAAJ,EAAAK,kBAAiBN,EAASF,KAAME,EAASO,Y,KAI7CzB,EAAU0B,iBAAiB,SAAS,SAAAC,GAClCA,EAAMC,iBACNtB,EAAcuB,UAAY,IAC1B,EAAAnB,EAAAC,eACAJ,EAAa,EACbF,EAAOyB,QAAQC,YAAc5B,EAAY6B,OACzC,EAAApB,EAAAC,mBAAkB,4CAA6C,CAC7DC,QAAShB,EAAAiB,QACTkB,SAAU,QACVC,MAAO/B,EAAY6B,MACnBG,eAAe,EACfnB,KAAMT,IACLU,MAAK,SAAAC,GACyB,IAA3BA,EAASkB,eACXnC,SACGC,cAAc,kBACdmC,UAAUC,OAAO,0BAGtB,EAAAnB,EAAAC,qBACAb,EAAaW,EAASF,MACtB,EAAAK,EAAAC,kBAAiBJ,EAASK,SACtBL,EAASkB,cAAgB,IAC3BnC,SACGC,cAAc,kBACdmC,UAAUE,IAAI,0BACjB,EAAApB,EAAAK,kBAAiBN,EAASF,KAAME,EAASO,a,IAGpB,IAArBtB,EAAY6B,QACd7B,EAAY6B,MAAQ,G,IAIxB5B,EAAWsB,iBAAiB,SAAS,SAAAc,GACnCA,EAAIZ,eACAY,EAAIC,OAAOJ,UAAUK,SAAS,yBAE9BF,EAAIC,OAAOJ,UAAUK,SAAS,6BAC9BF,EAAIC,OAAOJ,UAAUK,SAAS,mCAE9BnC,EAAaiC,EAAIC,OAAOX,QAAQd,MAEH,KAA3BwB,EAAIC,OAAOE,cACbpC,EAAaiC,EAAIC,OAAOE,cAGxBH,EAAIC,OAAOJ,UAAUK,SAAS,wBAChClC,OAAOoC,SAAS,EAAG,GACnBtC,EAAcuB,UAAY,IAC1B,EAAAnB,EAAAC,oBACmCkC,IAA/BxC,EAAOyB,QAAQC,cACjB,EAAAnB,EAAAC,mBAAkB,kDAAmD,CACnEC,QAAShB,EAAAiB,QACTC,KAAMT,IACLU,MAAK,SAAAC,IACN,EAAAC,EAAAC,qBACAb,EAAaW,EAASF,MACtB,EAAAK,EAAAC,kBAAiBJ,EAASK,UAC1B,EAAAJ,EAAAK,kBAAiBN,EAASF,KAAME,EAASO,Y,SAEVoB,IAA/BxC,EAAOyB,QAAQC,eACjB,EAAAnB,EAAAC,mBAAkB,4CAA6C,CAC7DC,QAAShB,EAAAiB,QACTkB,SAAU,QACVC,MAAO7B,EAAOyB,QAAQC,YACtBI,eAAe,EACfnB,KAAMT,IACLU,MAAK,SAAAC,GACyB,IAA3BA,EAASkB,eACXnC,SACGC,cAAc,kBACdmC,UAAUC,OAAO,0BAGtB,EAAAnB,EAAAC,qBACAb,EAAaW,EAASF,MACtB,EAAAK,EAAAC,kBAAiBJ,EAASK,SACtBL,EAASkB,cAAgB,IAC3BnC,SACGC,cAAc,kBACdmC,UAAUE,IAAI,0BACjB,EAAApB,EAAAK,kBAAiBN,EAASF,KAAME,EAASO,a,IAGpB,IAArBtB,EAAY6B,QACd7B,EAAY6B,MAAQ,K,IAM5B1B,EAAcoB,iBAAiB,QAASoB,EAAAC,aACxC,EAAAD,EAAAE,a","sources":["src/js/index.js"],"sourcesContent":["import { API_KEY } from './apiKey';\nimport { fetchJsonResponse } from './responseJsonFetch';\nimport { moviesListRender } from './moviesListRender';\nimport { paginationRender, paginationDestroy } from './pagination';\nimport { closeModal, modalMovie } from './modalMovie';\nimport { startLoader } from './loader';\n\nconst searchBtn = document.querySelector('.search__button');\nconst searchInput = document.querySelector('.search__input');\nconst pagination = document.querySelector('.pagination');\nconst movies = document.querySelector('.movies');\nconst moviesGallery = document.querySelector('.movies__list');\n\nlet actualPage = 1;\n\nwindow.onload = () => {\n  startLoader();\n  fetchJsonResponse('https://api.themoviedb.org/3/trending/movie/day', {\n    api_key: API_KEY,\n    page: actualPage,\n  }).then(response => {\n    paginationDestroy();\n    actualPage = response.page;\n    moviesListRender(response.results);\n    paginationRender(response.page, response.total_pages);\n  });\n};\n\nsearchBtn.addEventListener('click', event => {\n  event.preventDefault();\n  moviesGallery.innerHTML = '';\n  startLoader();\n  actualPage = 1;\n  movies.dataset.searchquery = searchInput.value;\n  fetchJsonResponse('https://api.themoviedb.org/3/search/movie', {\n    api_key: API_KEY,\n    language: 'en-US',\n    query: searchInput.value,\n    include_adult: false,\n    page: actualPage,\n  }).then(response => {\n    if (response.total_results === 0) {\n      document\n        .querySelector('.header__error')\n        .classList.remove('header__error--hidden');\n    }\n\n    paginationDestroy();\n    actualPage = response.page;\n    moviesListRender(response.results);\n    if (response.total_results > 0) {\n      document\n        .querySelector('.header__error')\n        .classList.add('header__error--hidden');\n      paginationRender(response.page, response.total_pages);\n    }\n  });\n  if (searchInput.value != '') {\n    searchInput.value = '';\n  }\n});\n\npagination.addEventListener('click', evt => {\n  evt.preventDefault;\n  if (evt.target.classList.contains('pagination__button')) {\n    if (\n      evt.target.classList.contains('pagination__button--next') ||\n      evt.target.classList.contains('pagination__button--previous')\n    ) {\n      actualPage = evt.target.dataset.page;\n    }\n    if (evt.target.textContent !== '') {\n      actualPage = evt.target.textContent;\n    }\n  }\n  if (evt.target.classList.contains('pagination__button')) {\n    window.scrollTo(0, 0);\n    moviesGallery.innerHTML = '';\n    startLoader();\n    if (movies.dataset.searchquery === undefined)\n      fetchJsonResponse('https://api.themoviedb.org/3/trending/movie/day', {\n        api_key: API_KEY,\n        page: actualPage,\n      }).then(response => {\n        paginationDestroy();\n        actualPage = response.page;\n        moviesListRender(response.results);\n        paginationRender(response.page, response.total_pages);\n      });\n    if (movies.dataset.searchquery !== undefined) {\n      fetchJsonResponse('https://api.themoviedb.org/3/search/movie', {\n        api_key: API_KEY,\n        language: 'en-US',\n        query: movies.dataset.searchquery,\n        include_adult: false,\n        page: actualPage,\n      }).then(response => {\n        if (response.total_results === 0) {\n          document\n            .querySelector('.header__error')\n            .classList.remove('header__error--hidden');\n        }\n\n        paginationDestroy();\n        actualPage = response.page;\n        moviesListRender(response.results);\n        if (response.total_results > 0) {\n          document\n            .querySelector('.header__error')\n            .classList.add('header__error--hidden');\n          paginationRender(response.page, response.total_pages);\n        }\n      });\n      if (searchInput.value != '') {\n        searchInput.value = '';\n      }\n    }\n  }\n});\n\nmoviesGallery.addEventListener('click', modalMovie);\ncloseModal();\n"],"names":["$iY7oS","parcelRequire","$44ae6d9db4eaca0f$var$searchBtn","document","querySelector","$44ae6d9db4eaca0f$var$searchInput","$44ae6d9db4eaca0f$var$pagination","$44ae6d9db4eaca0f$var$movies","$44ae6d9db4eaca0f$var$moviesGallery","$44ae6d9db4eaca0f$var$actualPage","window","onload","$kvC6y","startLoader","$igQOg","fetchJsonResponse","api_key","API_KEY","page","then","response","$jcFG7","paginationDestroy","$jkJzp","moviesListRender","results","paginationRender","total_pages","addEventListener","event","preventDefault","innerHTML","dataset","searchquery","value","language","query","include_adult","total_results","classList","remove","add","evt","target","contains","textContent","scrollTo","undefined","$8AEpj","modalMovie","closeModal"],"version":3,"file":"index.65b2e4bf.js.map"}