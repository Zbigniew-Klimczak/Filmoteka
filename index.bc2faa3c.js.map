{"mappings":"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","sources":["src/js/responseJsonFetch.js","src/js/moviesListRender.js","src/js/apiKey.js","src/js/pagination.js","src/js/localStorage.js","src/js/loader.js","src/js/modalMovie.js","src/js/index.js"],"sourcesContent":["export async function fetchJsonResponse(url, params) {\n  try {\n    const fetchResponse = await fetch(url + '?' + new URLSearchParams(params));\n    const fetchData = await fetchResponse.json();\n    return fetchData;\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import { fetchJsonResponse } from './responseJsonFetch';\nimport { API_KEY } from './apiKey';\n\nconst moviesList = document.querySelector('.movies__list');\n\nasync function getGenresList() {\n  try {\n    const genresResponse = await fetchJsonResponse(\n      'https://api.themoviedb.org/3/genre/movie/list',\n      {\n        api_key: API_KEY,\n        language: 'en-US',\n      }\n    );\n    const genresData = genresResponse.genres;\n    return genresData;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\nfunction getMoviesGenres(movie, genresList) {\n  const movieGenres = [];\n  movie.genre_ids.forEach(genre_id => {\n    for (const genre of genresList) {\n      if (genre_id === genre.id) {\n        movieGenres.push(genre.name);\n      }\n    }\n  });\n  return movieGenres;\n}\n\nexport function displayMovieCard(movie, movieGenres) {\n  let moviePoster;\n  if (movie.poster_path === null) {\n    moviePoster = 'https://europix.cc/no-poster.png';\n  } else {\n    moviePoster = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n  }\n  let movieGenresList;\n  if (movieGenres.length === 0) {\n    movieGenresList = ['Unknown'];\n  } else {\n    movieGenresList = movieGenres;\n  }\n  let movieCardHtml = `<li class=\"movie\" data-id=\"${movie.id}\">\n        <img class=\"movie__img\"\n          src=${moviePoster}\n          alt=\"${movie.title} poster.\" loading=\"lazy\" />\n        <h2 class=\"movie__title\">${movie.title}</h2>\n        <div class=\"movie__info\">\n          <p class=\"movie__detail\">\n            ${movieGenresList.slice(0, 4).join(', ')}\n          </p>\n          <p class=\"movie__detail\">|</p>\n          <p class=\"movie__detail\">${movie.release_date.slice(0, 4)}</>\n        </div>\n      </li>`;\n  moviesList.insertAdjacentHTML('beforeend', movieCardHtml);\n}\n\nexport async function moviesListRender(movies) {\n  try {\n    moviesList.innerHTML = '';\n    const genresList = await getGenresList();\n    movies.forEach(movie => {\n      const movieGenres = getMoviesGenres(movie, genresList);\n      displayMovieCard(movie, movieGenres);\n    });\n  } catch (error) {\n    console.error(error);\n  }\n}\n","export const API_KEY = '1d9e7558ae558dc94a5fda2c9843c8eb';\n","const pagination = document.querySelector('.pagination');\nexport function paginationRender(actualPage, totalPages) {\n  /*Pagination DOM build*/\n  const actual = document.createElement('button');\n  actual.setAttribute('type', 'button');\n  actual.textContent = actualPage;\n  actual.classList.add('pagination__button');\n  actual.classList.add('pagination__button--actual');\n  pagination.append(actual);\n  const actualPlus1 = document.createElement('button');\n  actualPlus1.setAttribute('type', 'button');\n  actualPlus1.classList.add('pagination__button');\n  actualPlus1.textContent = actualPage + 1;\n  const actualPlus2 = document.createElement('button');\n  actualPlus2.setAttribute('type', 'button');\n  actualPlus2.classList.add('pagination__button');\n  actualPlus2.textContent = actualPage + 2;\n  const actualMinus1 = document.createElement('button');\n  actualMinus1.setAttribute('type', 'button');\n  actualMinus1.classList.add('pagination__button');\n  actualMinus1.textContent = actualPage - 1;\n  const actualMinus2 = document.createElement('button');\n  actualMinus2.setAttribute('type', 'button');\n  actualMinus2.classList.add('pagination__button');\n  actualMinus2.textContent = actualPage - 2;\n  const nextPage = document.createElement('button');\n  nextPage.setAttribute('type', 'button');\n  nextPage.classList.add('pagination__button');\n  nextPage.classList.add('pagination__button--next');\n  nextPage.dataset.page = actualPage + 1;\n  const previousPage = document.createElement('button');\n  previousPage.setAttribute('type', 'button');\n  previousPage.classList.add('pagination__button');\n  previousPage.classList.add('pagination__button--previous');\n  previousPage.dataset.page = actualPage - 1;\n  const firstPage = document.createElement('button');\n  firstPage.setAttribute('type', 'button');\n  firstPage.textContent = 1;\n  firstPage.classList.add('pagination__button');\n  firstPage.classList.add('pagination__button--hideAbility');\n  const lastPage = document.createElement('button');\n  lastPage.setAttribute('type', 'button');\n  lastPage.textContent = totalPages;\n  lastPage.classList.add('pagination__button');\n  lastPage.classList.add('pagination__button--hideAbility');\n  const nextBetween = document.createElement('button');\n  nextBetween.setAttribute('type', 'button');\n  nextBetween.textContent = '...';\n  nextBetween.classList.add('pagination__button');\n  nextBetween.classList.add('pagination__button--hideAbility');\n  nextBetween.classList.add('pagination__button--deactive');\n  const previousBetween = document.createElement('button');\n  previousBetween.setAttribute('type', 'button');\n  previousBetween.textContent = '...';\n  previousBetween.classList.add('pagination__button');\n  previousBetween.classList.add('pagination__button--hideAbility');\n  previousBetween.classList.add('pagination__button--deactive');\n  /*Buttons appending*/\n  if (actualPage === 1) {\n    if (totalPages > actualPage) {\n      pagination.append(actualPlus1);\n    }\n    if (totalPages > actualPlus1.textContent) {\n      pagination.append(actualPlus2);\n    }\n    if (totalPages > actualPlus2.textContent) {\n      pagination.append(nextBetween);\n      pagination.append(lastPage);\n    }\n    if (totalPages > actualPage) {\n      pagination.append(nextPage);\n    }\n  }\n  if (actualPage === 2) {\n    if (totalPages > actualPage) {\n      pagination.append(actualPlus1);\n    }\n    if (totalPages > actualPlus1.textContent) {\n      pagination.append(actualPlus2);\n    }\n    if (totalPages > actualPlus2.textContent) {\n      pagination.append(nextBetween);\n      pagination.append(lastPage);\n    }\n    if (totalPages > actualPage) {\n      pagination.append(nextPage);\n    }\n    pagination.prepend(actualMinus1);\n    pagination.prepend(previousPage);\n  }\n  if (actualPage > 2) {\n    if (totalPages > actualPage) {\n      pagination.append(actualPlus1);\n    }\n    if (totalPages > actualPlus1.textContent) {\n      pagination.append(actualPlus2);\n    }\n    if (totalPages > actualPlus2.textContent) {\n      pagination.append(nextBetween);\n      pagination.append(lastPage);\n    }\n    if (totalPages > actualPage) {\n      pagination.append(nextPage);\n    }\n    pagination.prepend(actualMinus1);\n    pagination.prepend(actualMinus2);\n    if (actualPage > 3) {\n      pagination.prepend(previousBetween);\n      pagination.prepend(firstPage);\n    }\n    pagination.prepend(previousPage);\n  }\n}\nexport function paginationDestroy() {\n  pagination.replaceChildren();\n}\n","const LOCAL_STORAGE_WATCHED = 'movies-watched';\nconst LOCAL_STORAGE_QUEUE = 'movies-queue';\n\nconst setItem = (value, type) => {\n  const key = keyType(type);\n  if (!key) {\n    return;\n  }\n  window.localStorage.setItem(key, JSON.stringify(value));\n};\n\nconst getItem = type => {\n  const key = keyType(type);\n  if (!key) {\n    return;\n  }\n  const value = window.localStorage.getItem(key);\n  return JSON.parse(value);\n};\n\nconst removeItem = (value, type) => {\n  const key = keyType(type);\n  if (!key) {\n    return;\n  }\n  const list = getItem(type);\n  if (!list) {\n    return;\n  }\n  let idIndex = -1;\n  const newList = list.filter((element, index) => element !== value);\n  setItem(newList, type);\n};\n\nconst keyType = type => {\n  if (type === 'watched') {\n    return LOCAL_STORAGE_WATCHED;\n  }\n  if (type === 'queue') {\n    return LOCAL_STORAGE_QUEUE;\n  }\n  console.error('wronga type key in localStorage');\n  return false;\n};\n\nexport const moviesStorage = {\n  setItem,\n  getItem,\n  removeItem,\n};\n","const loader = document.querySelector('#loader');\nconst body = document.querySelector('body');\nlet mouseMoveListener;\n\nexport const trackMousePosition = () => {\n  mouseMoveListener = event => {\n    body.style.cursor = 'none';\n    loader.style.left = `${event.clientX}px`;\n    loader.style.top = `${event.clientY}px`;\n    loader.style.display = 'block';\n  };\n  document.addEventListener('mousemove', mouseMoveListener);\n};\nexport const stopTrackingMousePosition = () => {\n  body.style.cursor = 'auto';\n  document.removeEventListener('mousemove', mouseMoveListener);\n  loader.style.display = 'none';\n};\n{\n  trackMousePosition, stopTrackingMousePosition;\n}\n","import { fetchJsonResponse } from './responseJsonFetch';\nimport { API_KEY } from './apiKey';\nimport { moviesStorage } from './localStorage';\nimport { trackMousePosition, stopTrackingMousePosition } from './loader';\n\nconst body = document.querySelector('body');\nconst overlay = document.querySelector('.overlay');\nconst modalWindow = document.querySelector('.modal__window');\nconst closeButton = document.querySelector('.modal__button-close');\nconst modalDescription = document.querySelector('.modal__movie');\nlet btn = {\n  watched: null,\n  queue: null,\n};\n\nexport const modalMovie = async e => {\n  trackMousePosition();\n  if (e.target === e.currentTarget) {\n    return;\n  }\n  const liElement = findLi(e.target);\n  if (!liElement) {\n    return;\n  }\n  const id = liElement.dataset.id;\n  const movie = await fetchJsonResponse(\n    `https://api.themoviedb.org/3/movie/${id}`,\n    {\n      api_key: API_KEY,\n      language: 'en-US',\n    }\n  );\n  if (movie.success === false) {\n    return;\n  }\n  const watchedList = moviesStorage.getItem('watched');\n  const queueList = moviesStorage.getItem('queue');\n  let watchedClass = '';\n  let queueClass = '';\n  let watchedText = 'Add to watched';\n  let queueText = 'Add to queue';\n  if (watchedList) {\n    if (watchedList.includes(id)) {\n      watchedClass = 'modal-movie__watched';\n      watchedText = 'Remove from watched';\n    }\n  }\n  if (queueList) {\n    if (queueList.includes(id)) {\n      queueClass = 'modal-movie__queue';\n      queueText = 'Remove from queue';\n    }\n  }\n\n  let moviePoster;\n  if (movie.poster_path === null) {\n    moviePoster = 'https://europix.cc/no-poster.png';\n  } else {\n    moviePoster = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n  }\n\n  let movieGenresList;\n  if (movie.genres.length === 0) {\n    movieGenresList = ['Unknown'];\n  } else {\n    movieGenresList = movie.genres.map(genre => genre.name).join(', ');\n  }\n\n  const markup = `\n                <div class=\"modal-movie__container\">\n                  <img src=${moviePoster}\n                    alt=\"${movie.title} poster.\" class=\"modal-movie__picture\" />\n                  <div class=\"modal-movie__information\">\n                    <h3 class=\"modal-movie__title\">${movie.title}</h3>\n                    <table>\n                      <tbody class=\"modal-movie__table modal-table\">\n                        <tr class=\"modal-table__row\">\n                          <td class=\"modal-table__data modal-table__title\">Vote/Votes</td>\n                          <td class=\"modal-table__data modal-table__information\">\n                            <span class=\"modal-table__number modal-table--orange\">\n                              ${Math.round(movie.vote_average * 10) / 10}\n                            </span> / \n                            <span class=\"modal-table__number modal-table--grey\">\n                              ${movie.vote_count}\n                            </span>\n                          </td>\n                        </tr>\n                        <tr class=\"modal-table__row\">\n                          <td class=\"modal-table__data modal-table__title\">Popularity</td>\n                          <td class=\"modal-table__data modal-table__information\">\n                            ${Math.round(movie.popularity * 10) / 10}\n                          </td>\n                        </tr>\n                        <tr class=\"modal-table__row\">\n                          <td class=\"modal-table__data modal-table__title\">Original Title</td>\n                          <td class=\"modal-table__data modal-table__information modal-table--uppercase\">\n                            ${movie.original_title}\n                          </td>\n                        </tr>\n                        <tr class=\"modal-table__row\">\n                          <td class=\"modal-table__data modal-table__title\">Genre</td>\n                          <td class=\"modal-table__data modal-table__information\">\n                            ${movieGenresList}\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                    <div class=\"modal-movie__overview\">\n                      <h4 class=\"modal-movie__about\">About</h4>\n                      <p class=\"modal-movie__description\">\n                        ${movie.overview}\n                      </p>\n                    </div>\n                    <div class=\"modal-movie__buttons movie-button\">\n                      <button\n                        type=\"button\"\n                        class=\"modal-movie__btn ${watchedClass}\"\n                        data-idfilm=\"\"\n                        data-btn=\"watched\">\n                          ${watchedText}\n                      </button>\n                      <button\n                        type=\"button\"\n                        class=\"modal-movie__btn ${queueClass}\"\n                        data-idfilm=\"\"\n                        data-btn=\"queue\">\n                          ${queueText}\n                      </button>\n                    </div>\n                  </div>\n                </div>`;\n  modalDescription.innerHTML = markup;\n  viewModal(true);\n  window.addEventListener('keyup', escapeClose);\n  overlay.addEventListener('click', clickClose);\n  btn.watched = document.querySelector('[data-btn=\"watched\"]');\n  btn.queue = document.querySelector('[data-btn=\"queue\"]');\n  btn.watched.addEventListener('click', e => addToLocalStorage(id, 'watched'));\n  btn.queue.addEventListener('click', e => addToLocalStorage(id, 'queue'));\n  stopTrackingMousePosition();\n};\n\nconst findLi = target => {\n  if (target.tagName === 'UL') {\n    return false;\n  }\n  if (target.tagName !== 'LI') {\n    return findLi(target.parentElement);\n  }\n  return target;\n};\n\nexport const closeModal = () => {\n  closeButton.addEventListener('click', e => viewModal(false));\n};\n\nconst escapeClose = e => {\n  if (e.key === 'Escape' || e.keyCode === 27) {\n    viewModal(false);\n  }\n};\n\nconst clickClose = e => {\n  if (e.currentTarget === e.target) {\n    viewModal(false);\n  }\n};\n\nexport const viewModal = isShow => {\n  if (isShow) {\n    body.classList.add('noScroll');\n    overlay.classList.remove('overlay--is-hidden');\n    return;\n  }\n  body.classList.remove('noScroll');\n  overlay.classList.add('overlay--is-hidden');\n  btn.watched.removeEventListener('click', addToLocalStorage);\n  btn.queue.removeEventListener('click', addToLocalStorage);\n  window.removeEventListener('keyup', escapeClose);\n  overlay.removeEventListener('click', clickClose);\n};\n\nconst addToLocalStorage = (id, type) => {\n  const idList = moviesStorage.getItem(type);\n  let newList = [];\n  if (idList) {\n    newList = [...idList];\n  }\n\n  if (newList.includes(id)) {\n    moviesStorage.removeItem(id, type);\n    btn[type].classList.remove(`modal-movie__${type}`);\n    btn[type].innerText = `Add to ${type}`;\n    return;\n  }\n  newList.push(id);\n  moviesStorage.setItem(newList, type);\n  let anotherType;\n  if (type === 'watched') {\n    anotherType = 'queue';\n  }\n  if (type === 'queue') {\n    anotherType = 'watched';\n  }\n  moviesStorage.removeItem(id, anotherType);\n  btn[type].classList.add(`modal-movie__${type}`);\n  btn[type].innerText = `Remove from ${type}`;\n  btn[anotherType].classList.remove(`modal-movie__${anotherType}`);\n  btn[anotherType].innerText = `Add to ${anotherType}`;\n};\n","import { API_KEY } from './apiKey';\nimport { fetchJsonResponse } from './responseJsonFetch';\nimport { moviesListRender } from './moviesListRender';\nimport { paginationRender, paginationDestroy } from './pagination';\nimport { closeModal, modalMovie } from './modalMovie';\nimport { trackMousePosition, stopTrackingMousePosition } from './loader';\n\nconst searchBtn = document.querySelector('.search__button');\nconst searchInput = document.querySelector('.search__input');\nconst pagination = document.querySelector('.pagination');\nconst movies = document.querySelector('.movies');\nconst moviesGallery = document.querySelector('.movies__list');\n\nlet actualPage = 1;\n\nwindow.onload = () => {\n  trackMousePosition();\n  // setTimeout to check loader work\n  setTimeout(() => {\n    // -----------------------------\n    fetchJsonResponse('https://api.themoviedb.org/3/trending/movie/day', {\n      api_key: API_KEY,\n      page: actualPage,\n    }).then(response => {\n      stopTrackingMousePosition();\n      paginationDestroy();\n      actualPage = response.page;\n      moviesListRender(response.results);\n      paginationRender(response.page, response.total_pages);\n    });\n    // ----------------------------\n  }, 0);\n  // ------------------------------\n};\n\nsearchBtn.addEventListener('click', event => {\n  event.preventDefault();\n  trackMousePosition();\n  actualPage = 1;\n  movies.dataset.searchquery = searchInput.value;\n  fetchJsonResponse('https://api.themoviedb.org/3/search/movie', {\n    api_key: API_KEY,\n    language: 'en-US',\n    query: searchInput.value,\n    include_adult: false,\n    page: actualPage,\n  }).then(response => {\n    if (response.total_results === 0) {\n      document\n        .querySelector('.header__error')\n        .classList.remove('header__error--hidden');\n    }\n    stopTrackingMousePosition();\n    paginationDestroy();\n    actualPage = response.page;\n    moviesListRender(response.results);\n    if (response.total_results > 0) {\n      document\n        .querySelector('.header__error')\n        .classList.add('header__error--hidden');\n      paginationRender(response.page, response.total_pages);\n    }\n  });\n  if (searchInput.value != '') {\n    searchInput.value = '';\n  }\n});\n\npagination.addEventListener('click', evt => {\n  evt.preventDefault;\n  trackMousePosition();\n  if (evt.target.classList.contains('pagination__button')) {\n    if (\n      evt.target.classList.contains('pagination__button--next') ||\n      evt.target.classList.contains('pagination__button--previous')\n    ) {\n      actualPage = evt.target.dataset.page;\n    }\n    if (evt.target.textContent !== '') {\n      actualPage = evt.target.textContent;\n    }\n  }\n  if (evt.target.classList.contains('pagination__button')) {\n    window.scrollTo(0, 0);\n    if (movies.dataset.searchquery === undefined)\n      fetchJsonResponse('https://api.themoviedb.org/3/trending/movie/day', {\n        api_key: API_KEY,\n        page: actualPage,\n      }).then(response => {\n        stopTrackingMousePosition();\n        paginationDestroy();\n        actualPage = response.page;\n        moviesListRender(response.results);\n        paginationRender(response.page, response.total_pages);\n      });\n    if (movies.dataset.searchquery !== undefined) {\n      fetchJsonResponse('https://api.themoviedb.org/3/search/movie', {\n        api_key: API_KEY,\n        language: 'en-US',\n        query: movies.dataset.searchquery,\n        include_adult: false,\n        page: actualPage,\n      }).then(response => {\n        if (response.total_results === 0) {\n          document\n            .querySelector('.header__error')\n            .classList.remove('header__error--hidden');\n        }\n        stopTrackingMousePosition();\n        paginationDestroy();\n        actualPage = response.page;\n        moviesListRender(response.results);\n        if (response.total_results > 0) {\n          document\n            .querySelector('.header__error')\n            .classList.add('header__error--hidden');\n          paginationRender(response.page, response.total_pages);\n        }\n      });\n      if (searchInput.value != '') {\n        searchInput.value = '';\n      }\n    }\n  }\n});\n\nmoviesGallery.addEventListener('click', modalMovie);\ncloseModal();\n"],"names":["async","$0c837444c0fb7c71$export$f73304116199a240","url","params","fetchResponse","fetch","URLSearchParams","json","error","console","$fee038b370874d2c$var$moviesList","document","querySelector","$fee038b370874d2c$export$464de59ecf6985a2","movies","innerHTML","genresList","api_key","language","genres","$fee038b370874d2c$var$getGenresList","forEach","movie","movieGenres","genre_ids","genre_id","genre","id","push","name","$fee038b370874d2c$var$getMoviesGenres","moviePoster","movieGenresList","poster_path","length","movieCardHtml","title","slice","join","release_date","insertAdjacentHTML","$fee038b370874d2c$export$9aac67ed1318975","$1bab9c519cfa82bc$var$pagination","$1bab9c519cfa82bc$export$5fcd9471792c11c9","actualPage","totalPages","actual","createElement","setAttribute","textContent","classList","add","append","actualPlus1","actualPlus2","actualMinus1","actualMinus2","nextPage","dataset","page","previousPage","firstPage","lastPage","nextBetween","previousBetween","prepend","$1bab9c519cfa82bc$export$2803788b317d841b","replaceChildren","$2338c8cd734f85a6$var$setItem","value","type","key","$2338c8cd734f85a6$var$keyType","window","localStorage","setItem","JSON","stringify","$2338c8cd734f85a6$var$getItem","getItem","parse","$2338c8cd734f85a6$export$20a6a9b5a25cb809","list","newList","filter","element","index","$bdfcdc80b4c38739$var$loader","$bdfcdc80b4c38739$var$body","$bdfcdc80b4c38739$var$mouseMoveListener","$bdfcdc80b4c38739$export$ed409c1d3741f573","event","style","cursor","left","clientX","top","clientY","display","addEventListener","$bdfcdc80b4c38739$export$ceb36acbf453240e","removeEventListener","$8493215c505d4f4a$var$body","$8493215c505d4f4a$var$overlay","$8493215c505d4f4a$var$closeButton","$8493215c505d4f4a$var$modalDescription","$8493215c505d4f4a$var$btn","watched","queue","$8493215c505d4f4a$var$findLi","target","tagName","parentElement","$8493215c505d4f4a$var$escapeClose","e","keyCode","$8493215c505d4f4a$export$62e70af6b7942ce5","$8493215c505d4f4a$var$clickClose","currentTarget","isShow","remove","$8493215c505d4f4a$var$addToLocalStorage","idList","anotherType","includes","removeItem","innerText","$85a5f86b715fe7db$var$searchBtn","$85a5f86b715fe7db$var$searchInput","$85a5f86b715fe7db$var$pagination","$85a5f86b715fe7db$var$movies","$85a5f86b715fe7db$var$moviesGallery","$85a5f86b715fe7db$var$actualPage","onload","setTimeout","then","response","results","total_pages","preventDefault","searchquery","query","include_adult","total_results","evt","contains","scrollTo","undefined","liElement","success","watchedList","queueList","watchedClass","queueClass","watchedText","queueText","map","markup","Math","round","vote_average","vote_count","popularity","original_title","overview"],"version":3,"file":"index.bc2faa3c.js.map"}