{"mappings":"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","sources":["src/js/index.js","src/js/pagination.js"],"sourcesContent":["import { API_KEY } from './apiKey';\nimport { fetchJsonResponse } from './responseJsonFetch';\nimport { moviesListRender } from './moviesListRender';\nimport { paginationRender, paginationDestroy } from './pagination';\nimport { closeModal, modalMovie } from './modalMovie';\nimport { trackMousePosition, stopTrackingMousePosition } from './loader';\n\nconst searchBtn = document.querySelector('.search__button');\nconst searchInput = document.querySelector('.search__input');\nconst pagination = document.querySelector('.pagination');\nconst movies = document.querySelector('.movies');\nconst moviesGallery = document.querySelector('.movies__list');\n\nlet actualPage = 1;\n\nwindow.onload = () => {\n  trackMousePosition();\n  // setTimeout to check loader work\n  setTimeout(() => {\n    // -----------------------------\n    fetchJsonResponse('https://api.themoviedb.org/3/trending/movie/day', {\n      api_key: API_KEY,\n      page: actualPage,\n    }).then(response => {\n      stopTrackingMousePosition();\n      paginationDestroy();\n      actualPage = response.page;\n      moviesListRender(response.results);\n      paginationRender(response.page, response.total_pages);\n    });\n    // ----------------------------\n  }, 0);\n  // ------------------------------\n};\n\nsearchBtn.addEventListener('click', event => {\n  event.preventDefault();\n  trackMousePosition();\n  actualPage = 1;\n  movies.dataset.searchquery = searchInput.value;\n  fetchJsonResponse('https://api.themoviedb.org/3/search/movie', {\n    api_key: API_KEY,\n    language: 'en-US',\n    query: searchInput.value,\n    include_adult: false,\n    page: actualPage,\n  }).then(response => {\n    if (response.total_results === 0) {\n      document\n        .querySelector('.header__error')\n        .classList.remove('header__error--hidden');\n    }\n    stopTrackingMousePosition();\n    paginationDestroy();\n    actualPage = response.page;\n    moviesListRender(response.results);\n    if (response.total_results > 0) {\n      document\n        .querySelector('.header__error')\n        .classList.add('header__error--hidden');\n      paginationRender(response.page, response.total_pages);\n    }\n  });\n  if (searchInput.value != '') {\n    searchInput.value = '';\n  }\n});\n\npagination.addEventListener('click', evt => {\n  evt.preventDefault;\n  if (evt.target.classList.contains('pagination__button')) {\n    if (\n      evt.target.classList.contains('pagination__button--next') ||\n      evt.target.classList.contains('pagination__button--previous')\n    ) {\n      actualPage = evt.target.dataset.page;\n    }\n    if (evt.target.textContent !== '') {\n      actualPage = evt.target.textContent;\n    }\n  }\n  if (evt.target.classList.contains('pagination__button')) {\n    window.scrollTo(0, 0);\n    trackMousePosition();\n    if (movies.dataset.searchquery === undefined)\n      fetchJsonResponse('https://api.themoviedb.org/3/trending/movie/day', {\n        api_key: API_KEY,\n        page: actualPage,\n      }).then(response => {\n        stopTrackingMousePosition();\n        paginationDestroy();\n        actualPage = response.page;\n        moviesListRender(response.results);\n        paginationRender(response.page, response.total_pages);\n      });\n    if (movies.dataset.searchquery !== undefined) {\n      fetchJsonResponse('https://api.themoviedb.org/3/search/movie', {\n        api_key: API_KEY,\n        language: 'en-US',\n        query: movies.dataset.searchquery,\n        include_adult: false,\n        page: actualPage,\n      }).then(response => {\n        if (response.total_results === 0) {\n          document\n            .querySelector('.header__error')\n            .classList.remove('header__error--hidden');\n        }\n        stopTrackingMousePosition();\n        paginationDestroy();\n        actualPage = response.page;\n        moviesListRender(response.results);\n        if (response.total_results > 0) {\n          document\n            .querySelector('.header__error')\n            .classList.add('header__error--hidden');\n          paginationRender(response.page, response.total_pages);\n        }\n      });\n      if (searchInput.value != '') {\n        searchInput.value = '';\n      }\n    }\n  }\n});\n\nmoviesGallery.addEventListener('click', modalMovie);\ncloseModal();\n","const pagination = document.querySelector('.pagination');\nexport function paginationRender(actualPage, totalPages) {\n  /*Pagination DOM build*/\n  const actual = document.createElement('button');\n  actual.setAttribute('type', 'button');\n  actual.textContent = actualPage;\n  actual.classList.add('pagination__button');\n  actual.classList.add('pagination__button--actual');\n  pagination.append(actual);\n  const actualPlus1 = document.createElement('button');\n  actualPlus1.setAttribute('type', 'button');\n  actualPlus1.classList.add('pagination__button');\n  actualPlus1.textContent = actualPage + 1;\n  const actualPlus2 = document.createElement('button');\n  actualPlus2.setAttribute('type', 'button');\n  actualPlus2.classList.add('pagination__button');\n  actualPlus2.textContent = actualPage + 2;\n  const actualMinus1 = document.createElement('button');\n  actualMinus1.setAttribute('type', 'button');\n  actualMinus1.classList.add('pagination__button');\n  actualMinus1.textContent = actualPage - 1;\n  const actualMinus2 = document.createElement('button');\n  actualMinus2.setAttribute('type', 'button');\n  actualMinus2.classList.add('pagination__button');\n  actualMinus2.textContent = actualPage - 2;\n  const nextPage = document.createElement('button');\n  nextPage.setAttribute('type', 'button');\n  nextPage.classList.add('pagination__button');\n  nextPage.classList.add('pagination__button--next');\n  nextPage.dataset.page = actualPage + 1;\n  const previousPage = document.createElement('button');\n  previousPage.setAttribute('type', 'button');\n  previousPage.classList.add('pagination__button');\n  previousPage.classList.add('pagination__button--previous');\n  previousPage.dataset.page = actualPage - 1;\n  const firstPage = document.createElement('button');\n  firstPage.setAttribute('type', 'button');\n  firstPage.textContent = 1;\n  firstPage.classList.add('pagination__button');\n  firstPage.classList.add('pagination__button--hideAbility');\n  const lastPage = document.createElement('button');\n  lastPage.setAttribute('type', 'button');\n  lastPage.textContent = totalPages;\n  lastPage.classList.add('pagination__button');\n  lastPage.classList.add('pagination__button--hideAbility');\n  const nextBetween = document.createElement('button');\n  nextBetween.setAttribute('type', 'button');\n  nextBetween.textContent = '...';\n  nextBetween.classList.add('pagination__button');\n  nextBetween.classList.add('pagination__button--hideAbility');\n  nextBetween.classList.add('pagination__button--deactive');\n  const previousBetween = document.createElement('button');\n  previousBetween.setAttribute('type', 'button');\n  previousBetween.textContent = '...';\n  previousBetween.classList.add('pagination__button');\n  previousBetween.classList.add('pagination__button--hideAbility');\n  previousBetween.classList.add('pagination__button--deactive');\n  /*Buttons appending*/\n  if (actualPage === 1) {\n    if (totalPages > actualPage) {\n      pagination.append(actualPlus1);\n    }\n    if (totalPages > actualPlus1.textContent) {\n      pagination.append(actualPlus2);\n    }\n    if (totalPages > actualPlus2.textContent) {\n      pagination.append(nextBetween);\n      pagination.append(lastPage);\n    }\n    if (totalPages > actualPage) {\n      pagination.append(nextPage);\n    }\n  }\n  if (actualPage === 2) {\n    if (totalPages > actualPage) {\n      pagination.append(actualPlus1);\n    }\n    if (totalPages > actualPlus1.textContent) {\n      pagination.append(actualPlus2);\n    }\n    if (totalPages > actualPlus2.textContent) {\n      pagination.append(nextBetween);\n      pagination.append(lastPage);\n    }\n    if (totalPages > actualPage) {\n      pagination.append(nextPage);\n    }\n    pagination.prepend(actualMinus1);\n    pagination.prepend(previousPage);\n  }\n  if (actualPage > 2) {\n    if (totalPages > actualPage) {\n      pagination.append(actualPlus1);\n    }\n    if (totalPages > actualPlus1.textContent) {\n      pagination.append(actualPlus2);\n    }\n    if (totalPages > actualPlus2.textContent) {\n      pagination.append(nextBetween);\n      pagination.append(lastPage);\n    }\n    if (totalPages > actualPage) {\n      pagination.append(nextPage);\n    }\n    pagination.prepend(actualMinus1);\n    pagination.prepend(actualMinus2);\n    if (actualPage > 3) {\n      pagination.prepend(previousBetween);\n      pagination.prepend(firstPage);\n    }\n    pagination.prepend(previousPage);\n  }\n}\nexport function paginationDestroy() {\n  pagination.replaceChildren();\n}\n"],"names":["$iY7oS","parcelRequire","$dfaf77c789ce7a24$var$pagination","document","querySelector","$dfaf77c789ce7a24$export$5fcd9471792c11c9","actualPage","totalPages","actual","createElement","setAttribute","textContent","classList","add","append","actualPlus1","actualPlus2","actualMinus1","actualMinus2","nextPage","dataset","page","previousPage","firstPage","lastPage","nextBetween","previousBetween","prepend","$dfaf77c789ce7a24$export$2803788b317d841b","replaceChildren","$44ae6d9db4eaca0f$var$searchBtn","$44ae6d9db4eaca0f$var$searchInput","$44ae6d9db4eaca0f$var$pagination","$44ae6d9db4eaca0f$var$movies","$44ae6d9db4eaca0f$var$moviesGallery","$44ae6d9db4eaca0f$var$actualPage","window","onload","$kvC6y","trackMousePosition","setTimeout","$igQOg","fetchJsonResponse","api_key","API_KEY","then","response","stopTrackingMousePosition","$jkJzp","moviesListRender","results","total_pages","addEventListener","event","preventDefault","searchquery","value","language","query","include_adult","total_results","remove","evt","target","contains","scrollTo","undefined","$8AEpj","modalMovie","closeModal"],"version":3,"file":"index.ddb84e47.js.map"}