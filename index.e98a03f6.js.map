{"mappings":"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","sources":["src/js/index.js"],"sourcesContent":["import { API_KEY } from './apiKey';\nimport { fetchJsonResponse } from './responseJsonFetch';\nimport { moviesListRender } from './moviesListRender';\nimport { paginationRender, paginationDestroy } from './pagination';\nimport { closeModal, modalMovie } from './modalMovie';\nimport { trackMousePosition, stopTrackingMousePosition } from './loader';\n\nconst searchBtn = document.querySelector('.search__button');\nconst searchInput = document.querySelector('.search__input');\nconst pagination = document.querySelector('.pagination');\nconst movies = document.querySelector('.movies');\nconst moviesGallery = document.querySelector('.movies__list');\n\nlet actualPage = 1;\n\nwindow.onload = () => {\n  trackMousePosition();\n  // setTimeout to check loader work\n  setTimeout(() => {\n    // -----------------------------\n    fetchJsonResponse('https://api.themoviedb.org/3/trending/movie/day', {\n      api_key: API_KEY,\n      page: actualPage,\n    }).then(response => {\n      stopTrackingMousePosition();\n      paginationDestroy();\n      actualPage = response.page;\n      moviesListRender(response.results);\n      paginationRender(response.page, response.total_pages);\n    });\n    // ----------------------------\n  }, 2000);\n  // ------------------------------\n};\n\nsearchBtn.addEventListener('click', event => {\n  event.preventDefault();\n  trackMousePosition();\n  actualPage = 1;\n  movies.dataset.searchquery = searchInput.value;\n  fetchJsonResponse('https://api.themoviedb.org/3/search/movie', {\n    api_key: API_KEY,\n    language: 'en-US',\n    query: searchInput.value,\n    include_adult: false,\n    page: actualPage,\n  }).then(response => {\n    if (response.total_results === 0) {\n      document\n        .querySelector('.header__error')\n        .classList.remove('header__error--hidden');\n    }\n    stopTrackingMousePosition();\n    paginationDestroy();\n    actualPage = response.page;\n    moviesListRender(response.results);\n    if (response.total_results > 0) {\n      document\n        .querySelector('.header__error')\n        .classList.add('header__error--hidden');\n      paginationRender(response.page, response.total_pages);\n    }\n  });\n  if (searchInput.value != '') {\n    searchInput.value = '';\n  }\n});\n\npagination.addEventListener('click', evt => {\n  evt.preventDefault;\n  if (evt.target.classList.contains('pagination__button')) {\n    if (\n      evt.target.classList.contains('pagination__button--next') ||\n      evt.target.classList.contains('pagination__button--previous')\n    ) {\n      actualPage = evt.target.dataset.page;\n    }\n    if (evt.target.textContent !== '') {\n      actualPage = evt.target.textContent;\n    }\n  }\n  if (evt.target.classList.contains('pagination__button')) {\n    window.scrollTo(0, 0);\n    trackMousePosition();\n    if (movies.dataset.searchquery === undefined)\n      fetchJsonResponse('https://api.themoviedb.org/3/trending/movie/day', {\n        api_key: API_KEY,\n        page: actualPage,\n      }).then(response => {\n        stopTrackingMousePosition();\n        paginationDestroy();\n        actualPage = response.page;\n        moviesListRender(response.results);\n        paginationRender(response.page, response.total_pages);\n      });\n    if (movies.dataset.searchquery !== undefined) {\n      fetchJsonResponse('https://api.themoviedb.org/3/search/movie', {\n        api_key: API_KEY,\n        language: 'en-US',\n        query: movies.dataset.searchquery,\n        include_adult: false,\n        page: actualPage,\n      }).then(response => {\n        if (response.total_results === 0) {\n          document\n            .querySelector('.header__error')\n            .classList.remove('header__error--hidden');\n        }\n        stopTrackingMousePosition();\n        paginationDestroy();\n        actualPage = response.page;\n        moviesListRender(response.results);\n        if (response.total_results > 0) {\n          document\n            .querySelector('.header__error')\n            .classList.add('header__error--hidden');\n          paginationRender(response.page, response.total_pages);\n        }\n      });\n      if (searchInput.value != '') {\n        searchInput.value = '';\n      }\n    }\n  }\n});\n\nmoviesGallery.addEventListener('click', modalMovie);\ncloseModal();\n"],"names":["$iY7oS","parcelRequire","$44ae6d9db4eaca0f$var$searchBtn","document","querySelector","$44ae6d9db4eaca0f$var$searchInput","$44ae6d9db4eaca0f$var$pagination","$44ae6d9db4eaca0f$var$movies","$44ae6d9db4eaca0f$var$moviesGallery","$44ae6d9db4eaca0f$var$actualPage","window","onload","$kvC6y","trackMousePosition","setTimeout","$igQOg","fetchJsonResponse","api_key","API_KEY","page","then","response","stopTrackingMousePosition","$jcFG7","paginationDestroy","$jkJzp","moviesListRender","results","paginationRender","total_pages","addEventListener","event","preventDefault","dataset","searchquery","value","language","query","include_adult","total_results","classList","remove","add","evt","target","contains","textContent","scrollTo","undefined","$8AEpj","modalMovie","closeModal"],"version":3,"file":"index.e98a03f6.js.map"}