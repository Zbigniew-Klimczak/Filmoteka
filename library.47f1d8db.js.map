{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,8EAMMC,EAAaC,SAASC,cAAc,iBACpCC,EAAaF,SAASC,cAAc,mBACpCE,EAAWH,SAASC,cAAc,iBAElCG,EAAcC,KAAKC,MAAMC,aAAaC,QAAQ,iBAAiBC,OAC/DC,EAAgBL,KAAKC,MAAMC,aAAaC,QAAQ,mBAAmBC,OAErEE,EAAe,WAMf,I,GALFZ,EAAWa,UAAY,GACvBT,EAASU,UAAUC,OAAO,wBAC1BZ,EAAWW,UAAUE,IAAI,0BACH,IAAlBL,MACF,EAAAM,EAAAC,sBACoBZ,KAAKC,MAAMC,aAAaC,QAAQ,mBACtCU,S,EAAQC,EAAAtB,EAAA,CAAAsB,EAAAC,GAAAC,MAAA,SAAAC,EAAMC,G,mEAC1B,EAAAC,EAAAC,mBAAkB,sCAAyCC,OAAHH,GAAM,CAC5DI,QAASC,EAAAC,UACRC,MAAK,SAAAC,GAGN,IAFA,IAAIC,EAASD,EAAMC,OACfC,EAAc,GACTC,EAAI,EAAGA,EAAIF,EAAOvB,OAAQyB,IACjCD,EAAYE,KAAKH,EAAOE,GAAGE,OAE7B,EAAAC,EAAAC,kBAAiBP,EAAOE,E,wDATAV,G,mCAY5B,EAAAP,EAAAuB,6B,EA2BJ5B,IAEAR,EAASqC,iBAAiB,SAzBT,WAMb,I,GALFzC,EAAWa,UAAY,GACvBV,EAAWW,UAAUC,OAAO,0BAC5BX,EAASU,UAAUE,IAAI,wBACH,IAAhBX,MACF,EAAAY,EAAAC,sBACoBZ,KAAKC,MAAMC,aAAaC,QAAQ,iBACtCU,S,EAAQC,EAAAtB,EAAA,CAAAsB,EAAAC,GAAAC,MAAA,SAAAC,EAAMC,G,mEAC1B,EAAAC,EAAAC,mBAAkB,sCAAyCC,OAAHH,GAAM,CAC5DI,QAASC,EAAAC,UACRC,MAAK,SAAAC,GAGN,IAFA,IAAIC,EAASD,EAAMC,OACfC,EAAc,GACTC,EAAI,EAAGA,EAAIF,EAAOvB,OAAQyB,IACjCD,EAAYE,KAAKH,EAAOE,GAAGE,OAE7B,EAAAC,EAAAC,kBAAiBP,EAAOE,E,wDATAV,G,mCAY5B,EAAAP,EAAAuB,6B,IAOJrC,EAAWsC,iBAAiB,QAAS7B,GACrCZ,EAAWyC,iBAAiB,QAASC,EAAAC,aACrC,EAAAD,EAAAE,a","sources":["src/js/library.js"],"sourcesContent":["import { API_KEY } from './apiKey';\nimport { closeModal, modalMovie } from './modalMovie';\nimport { fetchJsonResponse } from './responseJsonFetch';\nimport { displayMovieCard } from './moviesListRender';\nimport { trackMousePosition, stopTrackingMousePosition } from './loader';\n\nconst moviesList = document.querySelector('.movies__list');\nconst watchedBtn = document.querySelector('.watched-button');\nconst queueBtn = document.querySelector('.queue-button');\n\nconst queueLength = JSON.parse(localStorage.getItem('movies-queue')).length;\nconst watchedLength = JSON.parse(localStorage.getItem('movies-watched')).length;\n\nlet fetchLibrary = () => {\n  moviesList.innerHTML = '';\n  queueBtn.classList.remove('queue-button--active');\n  watchedBtn.classList.add('watched-button--active');\n  if (watchedLength !== 0) {\n    trackMousePosition();\n    let parsedLibrary = JSON.parse(localStorage.getItem('movies-watched'));\n    parsedLibrary.forEach(async id => {\n      fetchJsonResponse(`https://api.themoviedb.org/3/movie/${id}`, {\n        api_key: API_KEY,\n      }).then(movie => {\n        let genres = movie.genres;\n        let movieGenres = [];\n        for (let i = 0; i < genres.length; i++) {\n          movieGenres.push(genres[i].name);\n        }\n        displayMovieCard(movie, movieGenres);\n      });\n    });\n    stopTrackingMousePosition();\n  }\n};\n\nlet fetchQueue = () => {\n  moviesList.innerHTML = '';\n  watchedBtn.classList.remove('watched-button--active');\n  queueBtn.classList.add('queue-button--active');\n  if (queueLength !== 0) {\n    trackMousePosition();\n    let parsedLibrary = JSON.parse(localStorage.getItem('movies-queue'));\n    parsedLibrary.forEach(async id => {\n      fetchJsonResponse(`https://api.themoviedb.org/3/movie/${id}`, {\n        api_key: API_KEY,\n      }).then(movie => {\n        let genres = movie.genres;\n        let movieGenres = [];\n        for (let i = 0; i < genres.length; i++) {\n          movieGenres.push(genres[i].name);\n        }\n        displayMovieCard(movie, movieGenres);\n      });\n    });\n    stopTrackingMousePosition();\n  }\n};\n\nfetchLibrary();\n\nqueueBtn.addEventListener('click', fetchQueue);\nwatchedBtn.addEventListener('click', fetchLibrary);\nmoviesList.addEventListener('click', modalMovie);\ncloseModal();\n"],"names":["$bpxeT","parcelRequire","$93effc6fc56091ad$var$moviesList","document","querySelector","$93effc6fc56091ad$var$watchedBtn","$93effc6fc56091ad$var$queueBtn","$93effc6fc56091ad$var$queueLength","JSON","parse","localStorage","getItem","length","$93effc6fc56091ad$var$watchedLength","$93effc6fc56091ad$var$fetchLibrary","innerHTML","classList","remove","add","$kvC6y","trackMousePosition","forEach","$parcel$interopDefault","$2TvXO","mark","_callee","id","$igQOg","fetchJsonResponse","concat","api_key","$iY7oS","API_KEY","then","movie","genres","movieGenres","i","push","name","$jkJzp","displayMovieCard","stopTrackingMousePosition","addEventListener","$8AEpj","modalMovie","closeModal"],"version":3,"file":"library.47f1d8db.js.map"}