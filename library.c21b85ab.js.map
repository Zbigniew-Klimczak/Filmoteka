{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,8EAMMC,EAAaC,SAASC,cAAc,iBACpCC,EAAaF,SAASC,cAAc,mBACpCE,EAAWH,SAASC,cAAc,iBAEpCG,EAAe,WAKjB,I,GAJA,EAAAC,EAAAC,sBACAP,EAAWQ,UAAY,GACvBJ,EAASK,UAAUC,OAAO,wBAC1BP,EAAWM,UAAUE,IAAI,0BACLC,KAAKC,MAAMC,aAAaC,QAAQ,mBACtCC,S,EAAQC,EAAAnB,EAAA,CAAAmB,EAAAC,GAAAC,MAAA,SAAAC,EAAMC,G,mEAC1B,EAAAC,EAAAC,mBAAkB,sCAAyCC,OAAHH,GAAM,CAC5DI,QAASC,EAAAC,UACRC,MAAK,SAAAC,GAGN,IAFA,IAAIC,EAASD,EAAMC,OACfC,EAAc,GACTC,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,IACjCD,EAAYG,KAAKJ,EAAOE,GAAGG,OAE7B,EAAAC,EAAAC,kBAAiBR,EAAOE,E,wDATAV,G,mCAY5B,EAAAf,EAAAgC,4B,EAwBFjC,IACAD,EAASmC,iBAAiB,SAtBT,WAKf,I,GAJA,EAAAjC,EAAAC,sBACAP,EAAWQ,UAAY,GACvBL,EAAWM,UAAUC,OAAO,0BAC5BN,EAASK,UAAUE,IAAI,wBACHC,KAAKC,MAAMC,aAAaC,QAAQ,iBACtCC,S,EAAQC,EAAAnB,EAAA,CAAAmB,EAAAC,GAAAC,MAAA,SAAAC,EAAMC,G,mEAC1B,EAAAC,EAAAC,mBAAkB,sCAAyCC,OAAHH,GAAM,CAC5DI,QAASC,EAAAC,UACRC,MAAK,SAAAC,GAGN,IAFA,IAAIC,EAASD,EAAMC,OACfC,EAAc,GACTC,EAAI,EAAGA,EAAIF,EAAOG,OAAQD,IACjCD,EAAYG,KAAKJ,EAAOE,GAAGG,OAE7B,EAAAC,EAAAC,kBAAiBR,EAAOE,E,wDATAV,G,mCAY5B,EAAAf,EAAAgC,4B,IAKFnC,EAAWoC,iBAAiB,QAASlC,GACrCL,EAAWuC,iBAAiB,QAASC,EAAAC,aACrC,EAAAD,EAAAE,a","sources":["src/js/library.js"],"sourcesContent":["import { API_KEY } from './apiKey';\nimport { closeModal, modalMovie } from './modalMovie';\nimport { fetchJsonResponse } from './responseJsonFetch';\nimport { displayMovieCard } from './moviesListRender';\nimport { trackMousePosition, stopTrackingMousePosition } from './loader';\n\nconst moviesList = document.querySelector('.movies__list');\nconst watchedBtn = document.querySelector('.watched-button');\nconst queueBtn = document.querySelector('.queue-button');\n\nlet fetchLibrary = () => {\n  trackMousePosition();\n  moviesList.innerHTML = '';\n  queueBtn.classList.remove('queue-button--active');\n  watchedBtn.classList.add('watched-button--active');\n  let parsedLibrary = JSON.parse(localStorage.getItem('movies-watched'));\n  parsedLibrary.forEach(async id => {\n    fetchJsonResponse(`https://api.themoviedb.org/3/movie/${id}`, {\n      api_key: API_KEY,\n    }).then(movie => {\n      let genres = movie.genres;\n      let movieGenres = [];\n      for (let i = 0; i < genres.length; i++) {\n        movieGenres.push(genres[i].name);\n      }\n      displayMovieCard(movie, movieGenres);\n    });\n  });\n  stopTrackingMousePosition();\n};\n\nlet fetchQueue = () => {\n  trackMousePosition();\n  moviesList.innerHTML = '';\n  watchedBtn.classList.remove('watched-button--active');\n  queueBtn.classList.add('queue-button--active');\n  let parsedLibrary = JSON.parse(localStorage.getItem('movies-queue'));\n  parsedLibrary.forEach(async id => {\n    fetchJsonResponse(`https://api.themoviedb.org/3/movie/${id}`, {\n      api_key: API_KEY,\n    }).then(movie => {\n      let genres = movie.genres;\n      let movieGenres = [];\n      for (let i = 0; i < genres.length; i++) {\n        movieGenres.push(genres[i].name);\n      }\n      displayMovieCard(movie, movieGenres);\n    });\n  });\n  stopTrackingMousePosition();\n};\n\nfetchLibrary();\nqueueBtn.addEventListener('click', fetchQueue);\nwatchedBtn.addEventListener('click', fetchLibrary);\nmoviesList.addEventListener('click', modalMovie);\ncloseModal();\n"],"names":["$bpxeT","parcelRequire","$93effc6fc56091ad$var$moviesList","document","querySelector","$93effc6fc56091ad$var$watchedBtn","$93effc6fc56091ad$var$queueBtn","$93effc6fc56091ad$var$fetchLibrary","$kvC6y","trackMousePosition","innerHTML","classList","remove","add","JSON","parse","localStorage","getItem","forEach","$parcel$interopDefault","$2TvXO","mark","_callee","id","$igQOg","fetchJsonResponse","concat","api_key","$iY7oS","API_KEY","then","movie","genres","movieGenres","i","length","push","name","$jkJzp","displayMovieCard","stopTrackingMousePosition","addEventListener","$8AEpj","modalMovie","closeModal"],"version":3,"file":"library.c21b85ab.js.map"}