var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequire4383;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){a[e]=t},e.parcelRequire4383=o);var i=o("kJhAR"),n=o("bnGUG"),r=o("14BL6"),s=o("lSHi4"),l=o("gjiCh"),d=o("2nhTy");const c=document.querySelector(".movies__list"),g=document.querySelector(".watched-button"),p=document.querySelector(".queue-button"),u=document.querySelector(".pagination");let h,v=JSON.parse(localStorage.getItem("movies-queue")).length,m=JSON.parse(localStorage.getItem("movies-watched")).length,f=0,L=19,y=1,S=()=>{if(c.innerHTML="",c.dataset.library="watched",p.classList.remove("queue-button--active"),g.classList.add("watched-button--active"),(0,d.paginationDestroy)(),0!==m){(0,l.startLoader)(),m=JSON.parse(localStorage.getItem("movies-watched")).length,y=1,f=0,L=19;let e=JSON.parse(localStorage.getItem("movies-watched"));h=Math.ceil(m/20);for(let t=f;t<=L;t++)void 0!==e[t]&&(0,r.fetchJsonResponse)(`https://api.themoviedb.org/3/movie/${e[t]}`,{api_key:i.API_KEY}).then((e=>{let t=e.genres,a=[];for(let e=0;e<t.length;e++)a.push(t[e].name);(0,s.displayMovieCard)(e,a)}));(0,d.paginationRender)(y,h),(0,l.stopLoader)()}};u.addEventListener("click",(e=>{if(e.preventDefault,e.target.classList.contains("pagination__button")&&((e.target.classList.contains("pagination__button--next")||e.target.classList.contains("pagination__button--previous"))&&(y=e.target.dataset.page),""!==e.target.textContent&&(y=e.target.textContent)),e.target.classList.contains("pagination__button")){if(window.scrollTo(0,0),"watched"===c.dataset.library){(0,l.startLoader)(),c.innerHTML="",(0,d.paginationDestroy)();let e=JSON.parse(localStorage.getItem("movies-watched"));m=JSON.parse(localStorage.getItem("movies-watched")).length,h=Math.ceil(m/20),f=0+20*(y-1),L=19+20*(y-1);for(let t=f;t<=L;t++)void 0!==e[t]&&(0,r.fetchJsonResponse)(`https://api.themoviedb.org/3/movie/${e[t]}`,{api_key:i.API_KEY}).then((e=>{let t=e.genres,a=[];for(let e=0;e<t.length;e++)a.push(t[e].name);(0,s.displayMovieCard)(e,a)}));(0,d.paginationRender)(+y,+h),(0,l.stopLoader)()}if("queue"===c.dataset.library){(0,l.startLoader)(),c.innerHTML="",(0,d.paginationDestroy)();let e=JSON.parse(localStorage.getItem("movies-queue"));v=JSON.parse(localStorage.getItem("movies-queue")).length,h=Math.ceil(v/20),f=0+20*(y-1),L=19+20*(y-1);for(let t=f;t<=L;t++)void 0!==e[t]&&(0,r.fetchJsonResponse)(`https://api.themoviedb.org/3/movie/${e[t]}`,{api_key:i.API_KEY}).then((e=>{let t=e.genres,a=[];for(let e=0;e<t.length;e++)a.push(t[e].name);(0,s.displayMovieCard)(e,a)}));(0,d.paginationRender)(+y,+h),(0,l.stopLoader)()}}})),S(),p.addEventListener("click",(()=>{if(c.innerHTML="",c.dataset.library="queue",g.classList.remove("watched-button--active"),p.classList.add("queue-button--active"),(0,d.paginationDestroy)(),0!==v){(0,l.startLoader)(),v=JSON.parse(localStorage.getItem("movies-queue")).length,y=1,f=0,L=19;let e=JSON.parse(localStorage.getItem("movies-queue"));h=Math.ceil(v/20);for(let t=f;t<=L;t++)void 0!==e[t]&&(0,r.fetchJsonResponse)(`https://api.themoviedb.org/3/movie/${e[t]}`,{api_key:i.API_KEY}).then((e=>{let t=e.genres,a=[];for(let e=0;e<t.length;e++)a.push(t[e].name);(0,s.displayMovieCard)(e,a)}));(0,d.paginationRender)(y,h),(0,l.stopLoader)()}})),g.addEventListener("click",S),c.addEventListener("click",n.modalMovie),(0,n.closeModal)();
//# sourceMappingURL=library.d33faefe.js.map
