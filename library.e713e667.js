!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},a={},o=e.parcelRequire4383;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in a){var o=a[e];delete a[e];var n={id:e,exports:{}};return t[e]=n,o.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},e.parcelRequire4383=o);var n,i=o("iY7oS"),r=o("8AEpj"),s=o("igQOg"),c=o("jkJzp"),l=o("kvC6y"),d=o("jcFG7"),p=document.querySelector(".movies__list"),g=document.querySelector(".watched-button"),u=document.querySelector(".queue-button"),v=document.querySelector(".pagination"),h=JSON.parse(localStorage.getItem("movies-queue")).length,f=JSON.parse(localStorage.getItem("movies-watched")).length,m=0,y=19,L=1,S=function(){if(p.innerHTML="",p.dataset.library="watched",u.classList.remove("queue-button--active"),g.classList.add("watched-button--active"),(0,d.paginationDestroy)(),0!==f){(0,l.startLoader)(),f=JSON.parse(localStorage.getItem("movies-watched")).length,L=1,m=0,y=19;var e=JSON.parse(localStorage.getItem("movies-watched"));n=Math.ceil(f/20);for(var t=m;t<=y;t++)void 0!==e[t]&&(0,s.fetchJsonResponse)("https://api.themoviedb.org/3/movie/".concat(e[t]),{api_key:i.API_KEY}).then((function(e){for(var t=e.genres,a=[],o=0;o<t.length;o++)a.push(t[o].name);(0,l.stopLoader)(),(0,c.displayMovieCard)(e,a)}));(0,d.paginationRender)(L,n)}};v.addEventListener("click",(function(e){if(e.preventDefault,e.target.classList.contains("pagination__button")&&((e.target.classList.contains("pagination__button--next")||e.target.classList.contains("pagination__button--previous"))&&(L=e.target.dataset.page),""!==e.target.textContent&&(L=e.target.textContent)),e.target.classList.contains("pagination__button")){if(window.scrollTo(0,0),"watched"===p.dataset.library){(0,l.startLoader)(),p.innerHTML="",(0,d.paginationDestroy)();var t=JSON.parse(localStorage.getItem("movies-watched"));f=JSON.parse(localStorage.getItem("movies-watched")).length,n=Math.ceil(f/20),y=19+20*(L-1);for(var a=m=0+20*(L-1);a<=y;a++)void 0!==t[a]&&(0,s.fetchJsonResponse)("https://api.themoviedb.org/3/movie/".concat(t[a]),{api_key:i.API_KEY}).then((function(e){for(var t=e.genres,a=[],o=0;o<t.length;o++)a.push(t[o].name);(0,c.displayMovieCard)(e,a)}));(0,d.paginationRender)(+L,+n),(0,l.stopLoader)()}if("queue"===p.dataset.library){(0,l.startLoader)(),p.innerHTML="",(0,d.paginationDestroy)();var o=JSON.parse(localStorage.getItem("movies-queue"));h=JSON.parse(localStorage.getItem("movies-queue")).length,n=Math.ceil(h/20),y=19+20*(L-1);for(var r=m=0+20*(L-1);r<=y;r++)void 0!==o[r]&&(0,s.fetchJsonResponse)("https://api.themoviedb.org/3/movie/".concat(o[r]),{api_key:i.API_KEY}).then((function(e){for(var t=e.genres,a=[],o=0;o<t.length;o++)a.push(t[o].name);(0,c.displayMovieCard)(e,a)}));(0,d.paginationRender)(+L,+n),(0,l.stopLoader)()}}})),S(),u.addEventListener("click",(function(){if(p.innerHTML="",p.dataset.library="queue",g.classList.remove("watched-button--active"),u.classList.add("queue-button--active"),(0,d.paginationDestroy)(),0!==h){(0,l.startLoader)(),h=JSON.parse(localStorage.getItem("movies-queue")).length,L=1,m=0,y=19;var e=JSON.parse(localStorage.getItem("movies-queue"));n=Math.ceil(h/20);for(var t=m;t<=y;t++)void 0!==e[t]&&(0,s.fetchJsonResponse)("https://api.themoviedb.org/3/movie/".concat(e[t]),{api_key:i.API_KEY}).then((function(e){for(var t=e.genres,a=[],o=0;o<t.length;o++)a.push(t[o].name);(0,l.stopLoader)(),(0,c.displayMovieCard)(e,a)}));(0,d.paginationRender)(L,n)}})),g.addEventListener("click",S),p.addEventListener("click",r.modalMovie),(0,r.closeModal)()}();
//# sourceMappingURL=library.e713e667.js.map
