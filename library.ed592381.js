!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=e.parcelRequire4383;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var a=o[e];delete o[e];var n={id:e,exports:{}};return t[e]=n,a.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){o[e]=t},e.parcelRequire4383=a);var n,i=a("iY7oS"),r=a("8AEpj"),s=a("igQOg"),c=a("jkJzp"),l=a("kvC6y"),u=a("jcFG7"),g=document.querySelector(".movies__list"),d=document.querySelector(".watched-button"),p=document.querySelector(".queue-button"),v=document.querySelector(".pagination"),h=JSON.parse(localStorage.getItem("movies-queue")).length,f=JSON.parse(localStorage.getItem("movies-watched")).length,m=0,y=19,S=1,M=function(){if(g.innerHTML="",g.dataset.library="watched",p.classList.remove("queue-button--active"),d.classList.add("watched-button--active"),(0,u.paginationDestroy)(),0!==f){(0,l.trackMousePosition)(),f=JSON.parse(localStorage.getItem("movies-watched")).length,S=1,m=0,y=19;var e=JSON.parse(localStorage.getItem("movies-watched"));n=Math.ceil(f/20);for(var t=m;t<=y;t++)void 0!==e[t]&&(0,s.fetchJsonResponse)("https://api.themoviedb.org/3/movie/".concat(e[t]),{api_key:i.API_KEY}).then((function(e){for(var t=e.genres,o=[],a=0;a<t.length;a++)o.push(t[a].name);(0,c.displayMovieCard)(e,o)}));(0,u.paginationRender)(S,n),(0,l.stopTrackingMousePosition)()}};v.addEventListener("click",(function(e){if(e.preventDefault,e.target.classList.contains("pagination__button")&&((e.target.classList.contains("pagination__button--next")||e.target.classList.contains("pagination__button--previous"))&&(S=e.target.dataset.page),""!==e.target.textContent&&(S=e.target.textContent)),e.target.classList.contains("pagination__button")){if(window.scrollTo(0,0),"watched"===g.dataset.library){(0,l.trackMousePosition)(),g.innerHTML="",(0,u.paginationDestroy)();var t=JSON.parse(localStorage.getItem("movies-watched"));f=JSON.parse(localStorage.getItem("movies-watched")).length,n=Math.ceil(f/20),y=19+20*(S-1);for(var o=m=0+20*(S-1);o<=y;o++)void 0!==t[o]&&(0,s.fetchJsonResponse)("https://api.themoviedb.org/3/movie/".concat(t[o]),{api_key:i.API_KEY}).then((function(e){for(var t=e.genres,o=[],a=0;a<t.length;a++)o.push(t[a].name);(0,c.displayMovieCard)(e,o)}));(0,u.paginationRender)(+S,+n),(0,l.stopTrackingMousePosition)()}if("queue"===g.dataset.library){(0,l.trackMousePosition)(),g.innerHTML="",(0,u.paginationDestroy)();var a=JSON.parse(localStorage.getItem("movies-queue"));h=JSON.parse(localStorage.getItem("movies-queue")).length,n=Math.ceil(h/20),y=19+20*(S-1);for(var r=m=0+20*(S-1);r<=y;r++)void 0!==a[r]&&(0,s.fetchJsonResponse)("https://api.themoviedb.org/3/movie/".concat(a[r]),{api_key:i.API_KEY}).then((function(e){for(var t=e.genres,o=[],a=0;a<t.length;a++)o.push(t[a].name);(0,c.displayMovieCard)(e,o)}));(0,u.paginationRender)(+S,+n),(0,l.stopTrackingMousePosition)()}}})),M(),p.addEventListener("click",(function(){if(g.innerHTML="",g.dataset.library="queue",d.classList.remove("watched-button--active"),p.classList.add("queue-button--active"),(0,u.paginationDestroy)(),0!==h){(0,l.trackMousePosition)(),h=JSON.parse(localStorage.getItem("movies-queue")).length,S=1,m=0,y=19;var e=JSON.parse(localStorage.getItem("movies-queue"));n=Math.ceil(h/20);for(var t=m;t<=y;t++)void 0!==e[t]&&(0,s.fetchJsonResponse)("https://api.themoviedb.org/3/movie/".concat(e[t]),{api_key:i.API_KEY}).then((function(e){for(var t=e.genres,o=[],a=0;a<t.length;a++)o.push(t[a].name);(0,c.displayMovieCard)(e,o)}));(0,u.paginationRender)(S,n),(0,l.stopTrackingMousePosition)()}})),d.addEventListener("click",M),g.addEventListener("click",r.modalMovie),(0,r.closeModal)()}();
//# sourceMappingURL=library.ed592381.js.map
