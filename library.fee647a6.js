var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var a=o[e];delete o[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}).register=function(e,t){o[e]=t},e.parcelRequired7c6=a);var i=a("kJhAR"),n=a("bnGUG"),s=a("14BL6"),r=a("lSHi4"),l=a("gjiCh"),c=a("2nhTy");const d=document.querySelector(".movies__list"),g=document.querySelector(".watched-button"),p=document.querySelector(".queue-button"),u=document.querySelector(".pagination");let h,v=JSON.parse(localStorage.getItem("movies-queue")).length,m=JSON.parse(localStorage.getItem("movies-watched")).length,f=0,y=19,S=1,b=()=>{if(d.innerHTML="",d.dataset.library="watched",p.classList.remove("queue-button--active"),g.classList.add("watched-button--active"),(0,c.paginationDestroy)(),0!==m){(0,l.trackMousePosition)(),m=JSON.parse(localStorage.getItem("movies-watched")).length,S=1,f=0,y=19;let e=JSON.parse(localStorage.getItem("movies-watched"));h=Math.ceil(m/20);for(let t=f;t<=y;t++)void 0!==e[t]&&(0,s.fetchJsonResponse)(`https://api.themoviedb.org/3/movie/${e[t]}`,{api_key:i.API_KEY}).then((e=>{let t=e.genres,o=[];for(let e=0;e<t.length;e++)o.push(t[e].name);(0,r.displayMovieCard)(e,o)}));(0,c.paginationRender)(S,h),(0,l.stopTrackingMousePosition)()}};u.addEventListener("click",(e=>{if(e.preventDefault,e.target.classList.contains("pagination__button")&&((e.target.classList.contains("pagination__button--next")||e.target.classList.contains("pagination__button--previous"))&&(S=e.target.dataset.page),""!==e.target.textContent&&(S=e.target.textContent)),e.target.classList.contains("pagination__button")){if(window.scrollTo(0,0),"watched"===d.dataset.library){(0,l.trackMousePosition)(),d.innerHTML="",(0,c.paginationDestroy)();let e=JSON.parse(localStorage.getItem("movies-watched"));m=JSON.parse(localStorage.getItem("movies-watched")).length,h=Math.ceil(m/20),f=0+20*(S-1),y=19+20*(S-1);for(let t=f;t<=y;t++)void 0!==e[t]&&(0,s.fetchJsonResponse)(`https://api.themoviedb.org/3/movie/${e[t]}`,{api_key:i.API_KEY}).then((e=>{let t=e.genres,o=[];for(let e=0;e<t.length;e++)o.push(t[e].name);(0,r.displayMovieCard)(e,o)}));(0,c.paginationRender)(+S,+h),(0,l.stopTrackingMousePosition)()}if("queue"===d.dataset.library){(0,l.trackMousePosition)(),d.innerHTML="",(0,c.paginationDestroy)();let e=JSON.parse(localStorage.getItem("movies-queue"));v=JSON.parse(localStorage.getItem("movies-queue")).length,h=Math.ceil(v/20),f=0+20*(S-1),y=19+20*(S-1);for(let t=f;t<=y;t++)void 0!==e[t]&&(0,s.fetchJsonResponse)(`https://api.themoviedb.org/3/movie/${e[t]}`,{api_key:i.API_KEY}).then((e=>{let t=e.genres,o=[];for(let e=0;e<t.length;e++)o.push(t[e].name);(0,r.displayMovieCard)(e,o)}));(0,c.paginationRender)(+S,+h),(0,l.stopTrackingMousePosition)()}}})),b(),p.addEventListener("click",(()=>{if(d.innerHTML="",d.dataset.library="queue",g.classList.remove("watched-button--active"),p.classList.add("queue-button--active"),(0,c.paginationDestroy)(),0!==v){(0,l.trackMousePosition)(),v=JSON.parse(localStorage.getItem("movies-queue")).length,S=1,f=0,y=19;let e=JSON.parse(localStorage.getItem("movies-queue"));h=Math.ceil(v/20);for(let t=f;t<=y;t++)void 0!==e[t]&&(0,s.fetchJsonResponse)(`https://api.themoviedb.org/3/movie/${e[t]}`,{api_key:i.API_KEY}).then((e=>{let t=e.genres,o=[];for(let e=0;e<t.length;e++)o.push(t[e].name);(0,r.displayMovieCard)(e,o)}));(0,c.paginationRender)(S,h),(0,l.stopTrackingMousePosition)()}})),g.addEventListener("click",b),d.addEventListener("click",n.modalMovie),(0,n.closeModal)();
//# sourceMappingURL=library.fee647a6.js.map
